<pre style=border:solid;width:350px id=z>
<script>(function(o,n,T,S,a,q,x,k,p,b,e,w){
	_="indexOf";P=r();
	for(i=0;i<20;i++){
		while(~w[_](P)||P==q||!P)P=r();
		w[i]=P;
	}

	function r(){
		return~~(Math.random()*256);
	}
	function d(){
		s="";
		for(i=0;i<e;i++){
			if(i^0&&i%b==0)s+="\n";R=0;
			for(y in w)if(w[y]==i)s+="#|#",R++;
			s+=i==p?" <font color=blue>></font> ":q==i?' ○ ':!R?'<font color=grey>~~.</font>':''
		}
		z.innerHTML=s+"\nP: "+x+"\t\t\t\t    O₂: "+~~((1-a/T)*100)+"%";
	}
	onkeyup=function(e){
		h=e.which;
		g=h==39?p+1:h==37?p-1:h==40?p+b:h==38?p-b:0;
		if(!~w[_](g))p=g;else p=0;
		if(q==g)x+=5,a-=S,m(),n(k),k=o(function(){m();d()},3e3);
		d()
	};
	function m(){
		q=w[0];
		while(~w[_](q))q=r();d()
	}
	d();
	o(function(){
		a+=S;
		if(a>=T)n(k),onkeyup=0,a=T,d(); else d();
	},S)
})(setInterval,clearInterval,6e4,1e3,0,5,0,0,0,15,255,[]);</script>